<div dir="rtl">

# تبدیل ادوبی کانکت به MP4
هر چند این برنامه با فایل های ضبط شده ادوبی دانشگاه کاشان به خوبی کار میکند اما سعی شده مستقل از دانشگاه کاشان نوشته شود تا با تغییرات جزیی بتوان برای سایر دانشگاه ها نیز استفاده کرد..

برنامه شامل سه بخش است

۱- مبدل ادوبی کانکت به mp3

۲- ضبط کننده صفحه

۳- بخش های مربوط به دانشگاه کاشان

مبدل ادوبی کانکت بهMP3 از طریق فایل های XML مشخص میکند هر فایل FLV در ثانیه چندم پخش میشود و سپس از جمع آوری این داده ها و همچنین به دست آوردن طول کلاس و با ادغام فایل های صوتی یک فایل MP3 به عنوان خروجی تحویل میدهد. (با تشکر از محمد مهدی رحیمی برای توسعه این بخش)

بخش ضبط کننده تنها وظیفه تولید ویدیو (بدون صدا) را دارد و اینکار را از طریق ضبط صفحه مرورگر انجام میدهد ورودی آن لینک کلاس ادوبی به صورت زیر است:

http://adobe1.kashanu.ac.ir/pkyuofabjtrn/?session=breezbreezstJfrhguth5y9m

که  آیدی جلسه به همراه سشن مربوطه را شامل میشود. البته این لینک از طریق بخش ۳ که مربوط به دانشگاه هست تامین میشود
دو ورودی دیگر این تابع مکان دایرکتوری برای ذخیره نتیجه و پارامتر اختیاری طول جلسه است که برای ایجاد محدودیت در مدت زمان ضبط تعبیه شده. 

بخش سوم که وابسته به دانشگاه کاشان است یوزر نیم و پسورد سامانه LMS را به همراه لینک جلسه که به صورت زیر است را از کاربر دریافت میکند:

http://lms.kashanu.ac.ir/mod/adobeconnect/joinrecording.php?id=14268&recording=26285035&groupid=0&sesskey=ekYcGpeWge

اگر تمام اطلاعات ورودی درست باشد این لینک به لینک بالا که در مرحله دوم ذکر کردیم تبدیل خواهد شد.

برای اینکه مشکل عدم پشتیبانی مرورگر های جدید از ادوبی فلش مرتفع شود از نسخه Mozilla Firefox 68.0.2 استفاده کردیم

فایل ConnectToMP4 وظیفه ضبط صفحه و ادغام ویدیو و صوت را دارد.

این برنامه حتما باید تحت لینوکس اجرا شود و پیشنیاز های آن نیز نصب شده باشد

چندتا از مهمترین پیش نیاز ها ایناست
```
python3, ffmpeg, selenium, firefox 68, geckodriver 0.26.0, Xvfb
```
برای اجرای آن میتوانید فایل Kashanu.py خطوط ۷۴ و ۷۵ و ۷۶ را تغییر داده و یوزرنیم و پسورد و لینک جلسه مدنظرتان را قرار دهید.


